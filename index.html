<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Surprise</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        :root {
            --primary-pink: #ff4d6d;
            --soft-white: rgba(255, 255, 255, 0.9);
        }

        body {
            background: linear-gradient(135deg, #ffafbd, #ffc3a0);
            height: 100vh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
        }

        /* Floating Hearts Background */
        .heart {
            position: absolute;
            color: rgba(255, 255, 255, 0.6);
            font-size: 20px;
            animation: float 6s linear infinite;
            top: 100vh;
            z-index: 0;
            user-select: none;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.8; }
            100% { transform: translateY(-110vh) rotate(360deg); opacity: 0; }
        }

        /* Glassmorphism Container */
        .glass-card {
            background: var(--soft-white);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 400px;
            width: 90%;
            border: 1px solid rgba(255, 255, 255, 0.3);
            z-index: 10; /* Above the hearts */
        }

        #envelope {
            font-size: 80px;
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: inline-block;
        }
        #envelope:hover { transform: scale(1.2) rotate(5deg); }

        .btn-container {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            height: 80px;
        }

        .btn {
            padding: 15px 35px;
            border-radius: 50px;
            border: none;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform 0.2s ease;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }

        #yesBtn {
            background-color: var(--primary-pink);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4);
        }
        
        #yesBtn:hover { transform: scale(1.1); }

        #noBtn {
            background-color: #f8f9fa;
            color: #6c757d;
            position: relative;
            transition: left 0.1s ease, top 0.1s ease;
            z-index: 999;
        }

        #pamphlet { display: none; }
        #pamphlet img {
            width: 100%;
            border-radius: 15px;
            margin-bottom: 15px;
            border: 3px solid var(--primary-pink);
        }

        h1 { color: #800f2f; font-size: 1.5rem; }
        p { line-height: 1.6; color: #444; }
    </style>
</head>
<body>

    <script>
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
            document.body.appendChild(heart);
            setTimeout(() => { heart.remove(); }, 6000);
        }
        setInterval(createHeart, 400);
    </script>

    <div class="glass-card">
        <div id="step1">
            <div id="envelope" onclick="nextStep(2)">‚úâÔ∏è</div>
            <p style="color: #c9184a; font-weight: bold;">You have a new message!</p>
        </div>

        <div id="step2" style="display: none;">
            <h1>Will you be my Valentine? üåπ</h1>
            <div class="btn-container">
                <button id="yesBtn" class="btn" onclick="celebrate()">YES</button>
                <button id="noBtn" class="btn" onmouseover="dodge()">NO</button>
            </div>
        </div>

        <div id="step3" style="display: none;">
            <div id="pamphlet" style="display: block;">
                <img src="https://i.servimg.com/u/f93/19/44/64/05/img20210.jpg" alt="Our Memory">
                <h1 style="margin: 5px 0;">Yay! I knew it! ‚ù§Ô∏è</h1>
                <p>Hey babe!<br>
                You are the best thing that happened to me. I love you so damn much.
                One day we will achieve everything we ever wanted and will tell each other "we did it".
                May 10 is special for me. We finally decided not to contain our feelings anymore and expressed love.
                We loved each other long before that, but it was solidified on May 10.<br>
                I'm proud of you, I'm your biggest cheerleader!
                Let us promise continue this love till we shed our mortal form.
                Uhm, actually - let's love beyond that as well.‚ù§Ô∏è</p>
            </div>
        </div>
    </div>

    <script>
        function nextStep(step) {
            document.getElementById('step1').style.display = 'none';
            document.getElementById('step2').style.display = 'block';
        }

        function dodge() {
            const btn = document.getElementById('noBtn');
            
            // Calculate limits so button stays within the browser window
            const padding = 20;
            const maxX = window.innerWidth - btn.offsetWidth - padding;
            const maxY = window.innerHeight - btn.offsetHeight - padding;
            
            // Generate random coordinates within those safe limits
            const randomX = Math.max(padding, Math.floor(Math.random() * maxX));
            const randomY = Math.max(padding, Math.floor(Math.random() * maxY));
            
            btn.style.position = 'fixed';
            btn.style.left = randomX + 'px';
            btn.style.top = randomY + 'px';
        }

        function celebrate() {
            document.getElementById('step2').style.display = 'none';
            document.getElementById('step3').style.display = 'block';

            var end = Date.now() + (5 * 1000);
            var colors = ['#ff4d6d', '#ff758f', '#ffffff'];

            (function frame() {
              confetti({
                particleCount: 4,
                angle: 60,
                spread: 55,
                origin: { x: 0 },
                colors: colors
              });
              confetti({
                particleCount: 4,
                angle: 120,
                spread: 55,
                origin: { x: 1 },
                colors: colors
              });

              if (Date.now() < end) {
                requestAnimationFrame(frame);
              }
            }());
        }
    </script>
</body>
</html>
